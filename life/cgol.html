<!doctype html>
<html>
<head>
   <title>Conway's Game Of Life</title>
   <style>
      #background {
         width: 100%;
         height: 100%;
         /*width: 500px;
         height: 500px;*/
      }

      html {
         background: black;
         width: 100%;
         height: 100%;
      }

      #output {
         color: white;
      }
   </style>

   <script src="cgol.js"></script>
   <script src="jquery-1.8.3.js"></script>

   <script type="text/javascript">
      function cgol_frame(context, cgol_grid)
      {
         cgol_grid.tick();
         cgol_render(context, cgol_grid);
         cgol_frames++;
      }

      function timer_tick()
      {
         $("#output").text(cgol_frames);
         cgol_frames = 0;
      }

      cgol_grid = null;
      cgol_frames = 0;

      $("document").ready(function() {
         var ctx = document.getElementById("background").getContext("2d");

         //cgol_grid = cgol_init(200, 200);
         //cgol_populate(cgol_grid);

         cgol_grid = new CGOL(200, 200);
         cgol_populate(cgol_grid);

         setInterval(cgol_frame, 1, ctx, cgol_grid);
         setInterval(timer_tick, 1000);
      });

      $("#background").ready(function()
      {
         var ctx = $("#background")[0].getContext("2d");
         ctx.canvas.width = $("#background").width();
         ctx.canvas.height = $("#background").height();
      });
   </script>
</head>

<body>
   <canvas id="background"></canvas>
   <p id="output">Hax</p>
</body>
</html>
